# OIKO v2 - RÃ¨gles de dÃ©veloppement

## ğŸ“‹ Contexte du projet
Refonte du site web OIKO (secteur immobilier) en Next.js avec TypeScript.
Projet destinÃ© Ã  Ãªtre maintenu par des dÃ©veloppeurs juniors et des non-dÃ©veloppeurs.

---

## ğŸ¯ Stack technique obligatoire

- **Next.js** 16.1.1 avec App Router
- **React** 19.2.3
- **TypeScript** 5 en mode strict
- **Tailwind CSS** 4 (configuration inline dans globals.css)
- **ESLint** 9
- **Pas de bibliothÃ¨que de composants externe** (tout custom)

---

## ğŸ¨ Design System

### Couleurs obligatoires
- **Fond global** : `#F5F5F5` (gris trÃ¨s clair)
- **Texte** : `#1F1F1F` (quasi noir)
- **Sections/Cards** : `#FFFFFF` (blanc)

### Structure de navigation
- **Header** : Logo Ã  gauche, rÃ©seaux sociaux centre-droite, bouton connexion Ã  droite
- **Navbar** : Sticky, 6 liens (Accueil, ActivitÃ©s, Ã€ propos, Vente, Location, Contact), logo apparaÃ®t au scroll
- **PageAnchors** : Navigation interne non-sticky pour pages longues (ActivitÃ©s, Ã€ propos)
- **Footer** : Sobre, dÃ©limitÃ©, fond blanc

### Responsive
- **Mobile-first** obligatoire
- Tester toujours sur mobile, tablette et desktop

---

## ğŸ“ Architecture du projet

### Structure des dossiers
```
app/                    # Pages Next.js (App Router)
â”œâ”€â”€ activites/
â”œâ”€â”€ a-propos-de-nous/
â”œâ”€â”€ contactez-nous/
â”œâ”€â”€ connexion/
â”œâ”€â”€ location/
â”œâ”€â”€ vente/
â”œâ”€â”€ layout.tsx
â””â”€â”€ page.tsx

components/             # Composants React
â”œâ”€â”€ ui/                # Composants UI de base (Button, Card, Section, etc.)
â”œâ”€â”€ layout/            # Header, Navbar, Footer, PageAnchors
â””â”€â”€ [nom-page]/        # Composants spÃ©cifiques aux pages

content/               # Fichiers JSON de contenu (modifiable par non-devs)
â”œâ”€â”€ accueil.json
â”œâ”€â”€ activites.json
â”œâ”€â”€ a-propos.json
â”œâ”€â”€ contact.json
â”œâ”€â”€ footer.json
â”œâ”€â”€ location.json
â””â”€â”€ vente.json

types/                 # Types TypeScript (Ã  crÃ©er si besoin)

lib/                   # Utilitaires et services (Ã  crÃ©er quand nÃ©cessaire)
â””â”€â”€ api/
```

---

## ğŸ’» Conventions de code TypeScript

### Composants React
- **Toujours** utiliser des arrow functions pour les composants
- **Toujours** typer les props avec des interfaces explicites
- **Jamais** utiliser `any` en TypeScript
- Utiliser `"use client"` uniquement quand nÃ©cessaire (interactivitÃ©)

Exemple :
```typescript
interface ButtonProps {
  href: string;
  children: React.ReactNode;
  variant?: "primary" | "secondary";
}

export default function Button({ href, children, variant = "primary" }: ButtonProps) {
  return <Link href={href}>{children}</Link>;
}
```

### Imports
- **Toujours** utiliser les imports absolus avec `@/`
- Exemple : `import Header from "@/components/layout/Header"`

### Nommage
- **Composants** : PascalCase (`Header.tsx`, `ButtonLink.tsx`)
- **Fichiers utilitaires** : camelCase (`formatDate.ts`)
- **Constantes** : UPPER_SNAKE_CASE (`API_BASE_URL`)
- **Types/Interfaces** : PascalCase (`interface PropertyCardProps`)

---

## ğŸ“„ Gestion du contenu

### Principe de sÃ©paration
- **Contenu textuel** â†’ Fichiers JSON (modifiable par non-devs)
- **Structure et liens** â†’ Composants TypeScript (contrÃ´lÃ© par devs)

### RÃ¨gles pour les fichiers JSON
- **Contenu autorisÃ©** : Textes, labels, descriptions, adresses, tÃ©lÃ©phones, emails
- **Contenu interdit** : URLs, liens de navigation, structure de routing
- Les non-devs doivent pouvoir modifier le contenu sans risque de casser le site

### Mapping dans les composants
Les dÃ©veloppeurs crÃ©ent un mapping entre les labels (JSON) et les liens (code) :
```typescript
const linkMapping = {
  "Accueil": "/",
  "ActivitÃ©s": "/activites",
  // etc.
};
```

---

## ğŸš« Ã€ Ã©viter absolument

### Over-engineering
- **Ne pas** crÃ©er de fonctionnalitÃ©s non demandÃ©es
- **Ne pas** ajouter de dÃ©pendances externes sans raison valable
- **Ne pas** sur-architecturer : garder les choses simples

### Documentation
- **Ne jamais** crÃ©er de fichiers Markdown (.md) de documentation sans demande explicite
- **Ne pas** utiliser d'emojis dans le code (sauf si explicitement demandÃ©)

### Fichiers sensibles
- **Ne jamais** commiter de fichiers contenant des secrets (.env, credentials.json)
- Toujours avertir si l'utilisateur demande de commiter ces fichiers

---

## âœ… Best practices

### Composants
- **RÃ©utilisabilitÃ©** : CrÃ©er des composants rÃ©utilisables autant que possible
- **Composition** : PrÃ©fÃ©rer la composition Ã  la duplication
- **Nommage** : Nommer selon la fonction, pas l'apparence
  - âœ… `Hero`, `ServicesGrid`, `ContactForm`
  - âŒ `BlueSection`, `BigTitle`

### Commentaires
- **Uniquement** pour la logique complexe
- Le code doit Ãªtre auto-explicatif
- Pas de commentaires Ã©vidents comme `// CrÃ©er un bouton`

### Performance
- Optimiser les images avec Next.js Image
- Utiliser le lazy loading quand appropriÃ©
- Ã‰viter les re-renders inutiles

---

## ğŸ§ª Plan d'implÃ©mentation en cours

### Phase actuelle : Phase 1 - Configuration et fondations
Voir le plan complet dans README.md et le fichier de plan.

### Ordre de prioritÃ©
1. ğŸ”´ Phase 1 : Configuration et fondations
2. ğŸŸ  Phase 2 : Layout global (Header, Navbar, Footer, PageAnchors)
3. ğŸŸ¡ Phase 3-6 : Pages principales et secondaires
4. ğŸŸ¢ Phase 7-8 : Connexion et pages Vente/Location
5. âšª Phase 9 : IntÃ©gration API (quand disponible)

---

## ğŸ“ Contexte utilisateur

- **Niveau** : DÃ©butant avec Next.js
- **PrÃ©fÃ©rences** :
  - Discuter point par point, pas trop d'informations d'un coup
  - Expliquer les concepts au fur et Ã  mesure
  - PrÃ©fÃ©rer les solutions simples aux solutions complexes
  - Besoin de comprendre le "pourquoi" des choix techniques

---

## ğŸ“ Workflow Git

### Commits
- CrÃ©er des commits **uniquement** quand l'utilisateur le demande explicitement
- Message de commit clair et concis (1-2 phrases)
- Toujours inclure `Co-Authored-By: Claude Sonnet 4.5 <noreply@anthropic.com>`
- **Ne jamais** utiliser `--amend` sauf si conditions trÃ¨s spÃ©cifiques remplies

### Pull Requests
- Analyser **tous** les commits depuis la divergence de la branche
- CrÃ©er un rÃ©sumÃ© complet et un test plan
- Inclure `Generated with Claude Code` dans la description

---

## ğŸ”„ RÃ©sumÃ© rapide

**Ã€ faire** :
- Code simple et maintenable
- TypeScript strict
- Mobile-first
- SÃ©parer contenu (JSON) et structure (code)
- Composants rÃ©utilisables

**Ã€ ne pas faire** :
- Over-engineering
- Utiliser `any` en TypeScript
- CrÃ©er de la doc non demandÃ©e
- Mettre des liens dans les fichiers JSON
- Ajouter des fonctionnalitÃ©s non demandÃ©es

---

*Ce fichier sera lu au dÃ©but de chaque conversation Claude pour garantir la cohÃ©rence du dÃ©veloppement.*
